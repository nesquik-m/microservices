# Microservices Project

Этот проект представляет собой набор микросервисов, построенных с использованием Spring Boot и других современных технологий.

## Account Microservice:

  - Управляет учетными записями пользователей.
  - Позволяет создавать, читать и обновлять информацию об учетных записях.
  - Реализует функциональность для управления статусом "онлайн" пользователя.
 
## Auth Microservice:

  - Обеспечивает аутентификацию и авторизацию пользователей.
  - Управляет регистрацией, входом в систему, выдачей токенов JWT, управлением refresh токенами, и проверкой прав доступа.
 
## Discovery (Eureka Server):

  - Сервис обнаружения (service discovery).
  - Позволяет другим микросервисам находить друг друга в сети, динамически регистрироваться и получать информацию об их местоположении.

## Gateway (API Gateway):

  - Является точкой входа для всех внешних запросов.
  - Перенаправляет запросы к соответствующим микросервисам, обеспечивая маршрутизацию.
  - Настраивает политику CORS (Cross-Origin Resource Sharing), определяя разрешенные источники, методы и заголовки для обеспечения безопасности при взаимодействии с фронтендом и другими внешними клиентами.
  - Обеспечивает логгирование входящих и исходящих запросов для отладки и мониторинга.
 
## Общий стек технологий

Все микросервисы в проекте используют следующие технологии:
- **Java**
- **Spring Boot**
- **Maven**
- **Docker**

Некоторые сервисы также используют:
- **Spring Data JPA:** (Account, Auth) Для упрощения работы с базами данных.
- **PostgreSQL:** (Account, Auth) В качестве базы данных.
- **Liquibase:** (Account, Auth) Для управления миграциями базы данных.
- **Spring Security:** (Account, Auth) Для обеспечения безопасности.
- **JWT (JSON Web Tokens):** (Auth) Для аутентификации и авторизации.
- **Redis:** (Auth) Для хранения данных сессий (например, refresh токенов).
- **Kafka:** (Account, Auth) Для асинхронного обмена сообщениями.
- **Spring Cloud Stream:** (Account, Auth) Для абстракции работы с Kafka и упрощения обмена сообщениями. Используется Binder Kafka.
- **MapStruct:** (Auth) Для автоматической генерации кода маппинга между Java-бинами (DTO и Entity).
- **AOP (Aspect-Oriented Programming):** (Account, Auth) Для логирования и других сквозных задач.
- **Spring Cloud (Eureka Server):** (Discovery) Для сервисной дискавери.
- **Spring Cloud Gateway:** (Gateway) Для маршрутизации и управления API.

### Дополнительно

- Каждый сервис имеет свой файл `application.yml` в директории `src/main/resources`, где можно настроить параметры подключения к базе данных, Redis, Kafka, и другие параметры.
- `http-client.private.env.json` и `requests.http`: Файлы, используемые для тестирования API с помощью HTTP Client (например, в IntelliJ IDEA).
- `docker-compose.yml`: Файл для запуска всех сервисов в Docker-контейнерах.
- Убедитесь, что переменные окружения (например, для доступа к базам данных и внешним сервисам) настроены правильно в ваших локальных файлах `.env` и в окружениях развертывания.

## Дашборды и веб-интерфейсы

- **Eureka Dashboard:** Доступен по адресу `http://localhost:8761/dashboard/`. Используется для мониторинга зарегистрированных микросервисов.
- **Kafka Web UI:** Доступен по адресу `http://localhost:8081/`.  Позволяет просматривать топики, сообщения и другую информацию о Kafka.


